(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,t,a){e.exports={selectionWraper:"HomePage_selectionWraper__1oNZA",imageGridWrapper:"HomePage_imageGridWrapper__13Lqu",deleteBtn:"HomePage_deleteBtn__1eV5z",button:"HomePage_button__3ylU7"}},24:function(e,t,a){e.exports={form:"Form_form__2TM1N",heading:"Form_heading__2iqZa",light:"Form_light__15AFB",input:"Form_input__2ESfd",button:"Form_button__243jh"}},25:function(e,t,a){e.exports={card:"ImagesCard_card__1dEhy",img:"ImagesCard_img__1E45u",colors_wrapper:"ImagesCard_colors_wrapper__tNoHQ",color:"ImagesCard_color__3_jwv",addBtn:"ImagesCard_addBtn__17o51"}},26:function(e,t,a){e.exports={paginationBttns:"Pagination_paginationBttns__1hoMW",previousBttn:"Pagination_previousBttn__3A3FT",nextBttn:"Pagination_nextBttn__1ne7j",paginationActive:"Pagination_paginationActive__2zYi6",paginationDisabled:"Pagination_paginationDisabled__1qjiH"}},36:function(e,t,a){e.exports={inputGroup:"SearchBar_inputGroup__XMWWV",searchBox:"SearchBar_searchBox__3hgAq",searchIcon:"SearchBar_searchIcon__RP80o"}},37:function(e,t,a){e.exports={heading:"Header_heading__sAf1D",light:"Header_light__1p9Mt"}},51:function(e,t,a){e.exports={box:"Loader_box__XZ2hR"}},52:function(e,t,a){e.exports={error:"Error_error__1Ykqe",button:"Error_button__1IjL9"}},56:function(e,t,a){e.exports=a(90)},62:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(50),o=a.n(r),l=(a(61),a(62),a(23)),i=a(6),s=a(4),u=a(12),m=a(34),d=a.n(m),g=a(29),p=a.n(g);var f=a(30),b={selectedImages:localStorage.getItem("selectedImages")?JSON.parse(localStorage.getItem("selectedImages")):[]},h=Object(n.createContext)(b),_=function(e){var t=Object(n.useState)(b),a=Object(s.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)((function(){localStorage.setItem("selectedImages",JSON.stringify(r.selectedImages))}),[r]);return c.a.createElement(h.Provider,{value:{selectedImages:r.selectedImages,addImageToSelectedImagesList:function(e){o(Object(f.a)(Object(f.a)({},r),{},{selectedImages:[].concat(Object(u.a)(r.selectedImages),[e])}))},removeImageFromSelectedImagesList:function(e){o(Object(f.a)(Object(f.a)({},r),{},{selectedImages:r.selectedImages.filter((function(t){return t.image.id!==e.image.id}))}))},removeSelections:function(){localStorage.removeItem("selectedImages"),localStorage.clear(),o({selectedImages:[]})}}},e.children)},v=a(51),E=a.n(v),j=function(){return c.a.createElement("div",{className:E.a.box},c.a.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"54px",height:"60px",viewBox:"0 0 24 30"},c.a.createElement("rect",{x:"0",y:"0",width:"3",height:"10",fill:"#333"},c.a.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0",dur:"0.6s",repeatCount:"indefinite"})),c.a.createElement("rect",{x:"10",y:"0",width:"3",height:"10",fill:"#333"},c.a.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0.2s",dur:"0.6s",repeatCount:"indefinite"})),c.a.createElement("rect",{x:"20",y:"0",width:"3",height:"10",fill:"#333"},c.a.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0.4s",dur:"0.6s",repeatCount:"indefinite"}))))},S=a(52),x=a.n(S),y=function(e){var t=e.message;return c.a.createElement("div",{className:"".concat(x.a.error," alert position-absolute"),role:"alert"},c.a.createElement("h1",null,t))},C=a(17),O=a.n(C),P=a(15),w=a(53),N=a(31);function k(){var e={apiKey:"".concat("AIzaSyDwGyW5nFuJkaQcjvmBYkt-xA_aMM5hsPo"),authDomain:"paletto-app.firebaseapp.com",databaseURL:"https://paletto-app-default-rtdb.europe-west1.firebasedatabase.app",projectId:"paletto-app",storageBucket:"paletto-app.appspot.com",messagingSenderId:"".concat("842174500"),appId:"".concat("1:842174500:web:deb0fe0933efd46cf008b1"),measurementId:"".concat("G-ZEXPMS209F")},t=(Object(w.a)(e),Object(N.a)());return{addEventToTracker:function(e,a,n){if(console.log("tracker event:",e,":",a),!window.location.href.includes("localhost")){var c=Object(N.c)(t,"EVENTS"),r=Object(N.b)(c);Object(N.d)(r,{category:e,action:a,specification:n,timeStamp:(new Date).toLocaleString("sv-SE"),pageview:window.location.pathname+window.location.search})}}}}var I=function(){var e=Object(n.useContext)(h).selectedImages,t=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(!1),l=Object(s.a)(o,2),i=l[0],m=l[1],g=Object(n.useState)([]),f=Object(s.a)(g,2),b=f[0],h=f[1],_=Object(n.useState)([]),v=Object(s.a)(_,2),E=v[0],j=v[1],S=Object(n.useState)(null),x=Object(s.a)(S,2);return x[0],x[1],{loading1:c,error1:i,mainPalette:b,secondaryPalettes:E,getPalettes:function(e){var t=[];e.forEach((function(e){t.push(e.image)})),m(!1),r(!0),j([]),d.a.post("https://paletto-app.herokuapp.com/api/palettes",t).then((function(e){h(e.data.mainPalette);var t=Math.ceil(e.data.finalPalettes.length/25),a=Math.ceil(e.data.finalPalettes.length/50),n=Math.ceil(e.data.finalPalettes.length/100),c=e.data.finalPalettes.slice(t,t+2),o=e.data.finalPalettes.slice(a,a+2),l=e.data.finalPalettes.slice(n,n+2);j([].concat(Object(u.a)(e.data.finalPalettes.slice(0,3)),Object(u.a)(c),Object(u.a)(o),Object(u.a)(l))),r(!1)})).catch((function(e){r(!1),m("Something went wrong")}))},getRGBColors:function(){var e=[],t=[];return b.forEach((function(t){var a=t.replace("#",""),n=p.a.hex.rgb(a);e.push(n)})),E.forEach((function(e){for(var a=[],n=0;n<e.length;n++){var c=e[n].replace("#",""),r=p.a.hex.rgb(c);a.push(r)}t.push(a)})),{RGBList:e,RGBList2:t}},getCMYKColors:function(){var e=[],t=[];return b.forEach((function(t){var a=t.replace("#",""),n=p.a.hex.rgb(a);e.push(n)})),E.forEach((function(e){for(var a=[],n=0;n<e.length;n++){var c=e[n].replace("#",""),r=p.a.hex.rgb(c);a.push(r)}t.push(a)})),{CMYKList:e,CMYKList2:t}}}}(),a=t.error1,r=t.loading1,o=t.mainPalette,i=t.secondaryPalettes,m=t.getPalettes,g=t.getRGBColors,f=t.getCMYKColors,b=Object(n.useState)(!1),_=Object(s.a)(b,2),v=_[0],E=_[1],S=Object(n.useRef)(null),x=Object(n.useState)({HEX:!0,RGB:!1,CMYK:!1}),C=Object(s.a)(x,2),w=C[0],N=C[1],I=k().addEventToTracker;return Object(n.useEffect)((function(){m(e)}),[]),c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"d-flex m-5 justify-content-around align-items-center flex-wrap"},c.a.createElement(l.b,{to:"/",className:"btn  ".concat(O.a.button)},c.a.createElement(P.a,{style:{marginRight:"0.5rem"}}),"Back"),c.a.createElement("div",null,c.a.createElement("h5",null,"Color Mode"),c.a.createElement("select",{ref:S,defaultValue:"0",className:"form-select","aria-label":"Default select example ",onChange:function(e){return function(e){e.preventDefault(),"0"===e.target.value?(N({HEX:!0,RGB:!1,CMYK:!1}),I("Palette","color_mode_changed","Selected Color_Mode: HEX")):"1"===e.target.value?(N({HEX:!1,RGB:!0,CMYK:!1}),I("Palette","color_mode_changed","Selected Color_Mode: RGB")):"2"===e.target.value&&(N({HEX:!1,RGB:!1,CMYK:!0}),I("Palette","color_mode_changed","Selected Color_Mode: CMYK"))}(e)}},c.a.createElement("option",{value:"0",disabled:w.HEX},"HEX"),c.a.createElement("option",{value:"1",disabled:w.RGB},"RGB"),c.a.createElement("option",{value:"2",disabled:w.CMYK},"CMYK")))),r&&c.a.createElement(j,null),a&&c.a.createElement(y,null),void setTimeout((function(){E(!1)}),1e3),v?c.a.createElement("p",{style:{textAlign:"center"}},v):null,o.length>0&&i.length>0?c.a.createElement("div",{className:"container",style:{height:"75vh",overflowY:"scroll"}},c.a.createElement("div",{className:"d-flex m-2 justify-content-center align-items-center"},o.map((function(e,t){return c.a.createElement("div",{key:t,style:{width:"10rem",height:"5rem",padding:"2rem",backgroundColor:e},onClick:function(){console.log(t),function(e){if("0"===S.current.value)navigator.clipboard.writeText(o[e]),I("Palette","clipboard_color_coppied","color_coppied: ".concat(o[e]));else if("1"===S.current.value){var t=g(),a="(".concat(t.RGBList[e][0],",").concat(t.RGBList[e][1],",").concat(t.RGBList[e][2],")");navigator.clipboard.writeText(a),I("Palette","clipboard_color_coppied","color_coppied: ".concat(a))}else if("2"===S.current.value){var n=f();a="(".concat(n.CMYKList[e][0],",").concat(n.CMYKList[e][1],",").concat(n.CMYKList[e][2],")");navigator.clipboard.writeText(a),I("Palette","clipboard_color_coppied","color_coppied: ".concat(a))}E("Coppied!")}(t)}})}))),i.map((function(e,t){return c.a.createElement("div",{key:t,className:"d-flex m-2 justify-content-center align-items-center"},e.map((function(e,a){return c.a.createElement("div",{key:a,style:{width:"10rem",height:"5rem",padding:"2rem",backgroundColor:e},onClick:function(){console.log(t,a),function(e,t){if("0"===S.current.value)navigator.clipboard.writeText(i[e][t]),I("Palette","clipboard_color_coppied","color_coppied: ".concat(i[e][t]));else if("1"===S.current.value){var a=g(),n="(".concat(a.RGBList2[e][t][0],",").concat(a.RGBList2[e][t][1],",").concat(a.RGBList2[e][t][2],")");navigator.clipboard.writeText(n),I("Palette","clipboard_color_coppied","color_coppied: ".concat(n))}else if("2"===S.current.value){var c=f();n="(".concat(c.CMYKList2[e][t][0],",").concat(c.CMYKList2[e][t][1],",").concat(c.CMYKList2[e][t][2],")");navigator.clipboard.writeText(n),I("Palette","clipboard_color_coppied","color_coppied: ".concat(n))}E("Coppied!")}(t,a)}})})))}))):"")};var B=a(36),T=a.n(B);var M=function(e){var t=e.submitSearch,a=e.query,r=Object(n.useState)(a),o=Object(s.a)(r,2),l=o[0],i=o[1],u=k().addEventToTracker,m=function(e){e.preventDefault(),l&&""!==l&&(t(l),u("Search","search_bar_btn_clicked",l))};return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:T.a.inputGroup,onSubmit:m},c.a.createElement("input",{type:"search",className:"ml-5 ".concat(T.a.searchBox),placeholder:""===a?a:"Search Images...",value:l,onInput:function(e){return i(e.target.value)}}),c.a.createElement(P.d,{id:"search-button",type:"submit",onClick:m})))},L=a(37),R=a.n(L),G=function(e){var t=e.submitSearch,a=e.query;return c.a.createElement("div",{className:"p-5 d-flex justify-content-between align-items-center flex-wrap"},c.a.createElement("h1",{className:R.a.heading},c.a.createElement("span",{className:R.a.light},"Colour")," Palettes"),c.a.createElement(M,{submitSearch:t,query:a}))},q=a(24),Y=a.n(q),K=function(e){var t=e.submitSearch,a=Object(n.useState)(""),r=Object(s.a)(a,2),o=r[0],l=r[1],i=k().addEventToTracker,u=function(e){e.preventDefault(),o&&""!==o&&(t(o),i("Search","search_btn_clicked",o))};return c.a.createElement("form",{className:Y.a.form,onSubmit:u},c.a.createElement("h1",{className:Y.a.heading},c.a.createElement("span",{className:Y.a.light},"Colour")," Palettes"),c.a.createElement("input",{"aria-label":"searchQuery",type:"text",className:"".concat(Y.a.input," form-control"),placeholder:"Search color palettes via keywords...",required:!0,value:o,onChange:function(e){return l(e.target.value)}}),c.a.createElement("button",{type:"submit",className:Y.a.button,onClick:u},"Search"))},F=a(25),H=a.n(F);function D(e){var t=e.image,a=e.palette,r=e.isSmall,o=Object(n.useContext)(h),l=o.selectedImages,i=o.addImageToSelectedImagesList,u=o.removeImageFromSelectedImagesList,m=Object(n.useState)(!1),d=Object(s.a)(m,2),g=d[0],p=d[1],f=k().addEventToTracker;Object(n.useEffect)((function(){var e=l.find((function(e){return e.image.id===t.id}));p(!!e)}),[l,t]);return c.a.createElement("div",{key:t.id,style:{height:r?"10rem":"20rem",width:"20rem"},className:"card m-4 ".concat(H.a.card)},c.a.createElement("div",{className:H.a.addBtn,style:{backgroundColor:g?"#E55336":"#60c95d"},onClick:function(){var e={image:t,palette:a};g?(u(e),f("Selection","removed_image_btn_clicked","imageID: ".concat(e.image.id))):(i(e),f("Selection","add_image_btn_clicked","imageID: ".concat(e.image.id)))}},c.a.createElement("p",null,g?c.a.createElement(P.c,null):c.a.createElement(P.b,null))),c.a.createElement("img",{className:"card-img-top ".concat(H.a.img),style:{height:r?"6rem":"15rem"},src:t.urls.regular,alt:"Card image cap"}),c.a.createElement("div",{className:"d-flex justify-content-between align-items-center flex-wrap ".concat(H.a.colors_wrapper)},a.map((function(e,t){return c.a.createElement("div",{key:t,className:H.a.color,style:{backgroundColor:e}})}))))}var A=a(54),W=a.n(A),X=a(26),J=a.n(X),V=function(e){var t=e.totalPages,a=e.currentPage,n=e.query,r=e.submitRequest,o=k().addEventToTracker;return c.a.createElement(W.a,{breakLabel:"...",nextLabel:"Next",previousLabel:"Previous",onPageChange:function(e){var t=e.selected;console.log("User requested page number ".concat(t+1)),r(n,t+1),o("Search","pagination_page_requested","page_number: ".concat(t+1," , search_query: ").concat(n))},forcePage:a-1,pageRangeDisplayed:5,pageCount:t,renderOnZeroPageCount:null,containerClassName:"".concat(J.a.paginationBttns),previousLinkClassName:"".concat(J.a.previousBttn),nextLinkClassName:"".concat(J.a.nextBttn),disabledClassName:"".concat(J.a.paginationDisabled),activeClassName:"".concat(J.a.paginationActive)})};var Z=function(){var e=Object(n.useState)(1),t=Object(s.a)(e,2),a=t[0],r=(t[1],function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(s.a)(r,2),l=o[0],i=o[1],u=Object(n.useState)([]),m=Object(s.a)(u,2),g=m[0],p=m[1],f=Object(n.useState)(0),b=Object(s.a)(f,2),h=b[0],_=b[1],v=Object(n.useState)(""),E=Object(s.a)(v,2),j=E[0],S=E[1],x=Object(n.useState)(0),y=Object(s.a)(x,2),C=y[0],O=y[1],P=k().addEventToTracker;return{images:g,loading:a,error:l,query:j,totalPages:C,currentPage:h,submitRequest:function(e,t){S(e),i(!1),c(!0),p([]),_(t),d.a.get("".concat("https://paletto-app.herokuapp.com/api/images","?query=").concat(e,"&page=").concat(t)).then((function(e){console.log(e),0===e.data.images.length||0===e.data.total_pages?(c(!1),i("There are no results for your search")):(c(!1),console.log(e.data.total_pages),p(e.data.images),O(e.data.total_pages),P("Performance","search_results_loaded","N of images:".concat(e.data.images.length,", N of pages:").concat(e.data.total_pages)))})).catch((function(e){c(!1),i("Something went wrong")}))}}}()),o=r.images,i=r.loading,u=r.error,m=r.query,g=r.totalPages,p=r.currentPage,f=r.submitRequest,b=Object(n.useContext)(h),_=b.selectedImages,v=b.removeSelections;function E(e){f(e,a)}var S=Object(n.useRef)(!0);Object(n.useEffect)((function(){return function(){return S.current=!1}}),[]);var x=k().addEventToTracker;return c.a.createElement(n.Fragment,null,0===_.length&&""===m?c.a.createElement(K,{submitSearch:E}):c.a.createElement(G,{submitSearch:E,query:m}),u&&c.a.createElement(y,{message:u}),i&&c.a.createElement(n.Fragment,null,c.a.createElement(j,null),x("Performance","search_results_loading","")),c.a.createElement("div",{className:"row"},_&&_.length>0?c.a.createElement("div",{className:"col-3"},c.a.createElement("h3",{className:"m-3",style:{textAlign:"center"}},"Selected Images"),c.a.createElement("div",{className:"d-flex justify-content-around align-items-center"},c.a.createElement(l.b,{to:"/palettes",className:"btn ".concat(O.a.button),onClick:function(){return x("Palette-Generation","get_Palettes_btn_clicked","N of selected images:".concat(_.length))}},"Get Palettes"),c.a.createElement("button",{type:"submit",className:"btn ".concat(O.a.deleteBtn),onClick:function(){v(),x("Selection","remove_all_btn_clicked","N of selected images:".concat(_.length))}},"Remove All")),c.a.createElement("div",{className:"d-flex m-3 justify-content-around align-items-center flex-wrap ".concat(O.a.selectionWraper)},!i&&_.length>0?_.map((function(e){return c.a.createElement(D,{key:e.image.id,image:e.image,palette:e.palette,isSmall:!0})})):"")):"",o&&o.length>0?c.a.createElement("div",{className:_.length>0?"col-9":""},1===g?"":c.a.createElement(V,{totalPages:g,currentPage:p,query:m,submitRequest:f}),c.a.createElement("div",{className:"d-flex m-3 justify-content-around align-items-center flex-wrap ".concat(O.a.imageGridWrapper)},o.map((function(e){return c.a.createElement(D,{image:e.img,palette:e.fiveColors,key:e.img.id,isSmall:!1})})))):""))};var z=function(){var e=k().addEventToTracker;return Object(n.useEffect)((function(){e("Page View","inital_search_page_viewed","")}),[]),c.a.createElement(l.a,null,c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/",element:c.a.createElement(Z,null)}),c.a.createElement(i.a,{path:"/palettes",element:c.a.createElement(I,null)})))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(_,null,c.a.createElement(z,null))),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.abfbe66c.chunk.js.map